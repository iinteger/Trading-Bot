# 가상화폐 봇 개발기

</br>

## 22. 01. 18 ~ 01. 22

* 변동성 돌파 전략을 사용하는 봇 제작
  
  * today_open + (yesterday_high - yesterday_low) * k (k = 0.8) 의 조건을 만족할 시 매수 -> 장 마감에 매도
  
  * 암호화폐 시장은 24시간이기 때문에 자정에 기준값 갱신, 매도

</br>

* 문제 :  거래시간이 6시간인 주식시장과 달리 암호화폐 거래는 24시간 내내 돌아감. 그래서 매수가 일찍 될 경우 자정에 매도가 되기 전에 가격이 떨어지는 문제가 있음
  
  * 개선 : 거래 시간을 12:00 ~ 24:00 으로 줄임

</br>

* 문제 : 거래 시간을 줄여도 동일한 문제가 생김. 그러나 거래 시간을 더 줄이면 24시간 활성화되어있는 암호화폐 거래의 장점이 사라질것으로 예상됨
  
  * 개선 : 장 마감시 매도를 하는것이 아니라, 목표 수익률을 잡고 가격이 도달하면 즉시 매도하는 방식으로 개선
  
  * 매수 가격으로부터 위, 아래로 3% 지점을 익절, 손절 가격으로 지정

</br>

* 어느정도 거래가 활성화되고, 수익이 발생하기도 함

</br>

* 문제 : 주문 명령이 모두 시장가 거래로 이루어짐. 시장가 거래를 하면 거래가 100%로 성사되지만 의도치 않은 슬리피지 비용이 많이 발생함. 특히 매도할 때, 목표가보다 훨씬 낯은 가격으로 매도되는 경우가 많았음

* 이때, 수익 3번과 손실 1번의 금액이 비슷했음
  
  * 개선 : 매도 주문을 지정가 주문으로 바꿈. 빗썸 API는 주문 금액을 호가 단위에 맞춰서 주문하지 않으면 에러를 리턴하기 때문에 주문시에 호가 단위를 맞추는 작업을 추가함
  
  * 더불어 익절을 4%에서, 손절을 -10%에서 하는것으로 수정. -3%에서 손절을 하는 경우, 주가가 진동하다가 손절되는 경우가 있었음

</br>

## 22. 01. 24

* 문제 : 손절매 지점이 너무 낮게 설정되어 손절매 시 손해금액이 너무 커짐
  
  * 개선 : 손절매 지점을 -5%로 수정






















